<!DOCTYPE html>
<html>
<head>
    <title>Employee Dashboard</title>
    <style>
        table { width: 100%; border-collapse: collapse; margin-top: 20px; }
        th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
        th { background-color: #f2f2f2; }
    </style>
</head>
<body>
    <h1>Welcome, {{ session['name'] }}!</h1>
    <a href="{{ url_for('logout') }}">Logout</a>
    <hr>
    
    <h2>Submit a New Expense Claim</h2>
    <form action="{{ url_for('submit_expense') }}" method="post">
        <label for="description">Description:</label><br>
        <input type="text" name="description" id="description" required><br><br>

        <label for="amount">Amount:</label><br>
        <input type="number" step="0.01" name="amount" id="amount" required><br><br>
        
        <label for="currency">Currency (e.g., INR, USD):</label><br>
        <input type="text" name="currency" id="currency" required><br><br>

        <label for="category">Category:</label><br>
        <select id="category" name="category" required>
            <option value="Travel">Travel</option>
            <option value="Meals and Entertainment">Meals and Entertainment</option>
            <option value="Office Supplies">Office Supplies</option>
            <option value="Professional Development">Professional Development</option>
            <option value="Miscellaneous">Miscellaneous</option>
        </select><br><br>

        <label for="expense_date">Date of Expense:</label><br>
        <input type="date" name="expense_date" id="expense_date" required><br><br>

        <button type="submit">Submit Claim</button>
    </form>
    
    <hr>

    <h2>Your Expense History</h2>
    <table>
        <thead>
            <tr>
                <th>Date</th>
                <th>Description</th>
                <th>Category</th>
                <th>Amount</th>
                <th>Status</th>
            </tr>
        </thead>
        <tbody>
            {% for expense in expenses %}
            <tr>
                <td>{{ expense['expense_date'] }}</td>
                <td>{{ expense['description'] }}</td>
                <td>{{ expense['category'] }}</td>
                <td>{{ expense['amount'] }} {{ expense['currency'] }}</td>
                <td>{{ expense['status'] }}</td>
            </tr>
            {% else %}
            <tr>
                <td colspan="5">You have no expense claims.</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</body>
</html>